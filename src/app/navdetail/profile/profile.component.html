<div class="content">
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header card-header-icon card-header-primary">
          <div class="card-icon">
            <i class="material-icons">perm_identity</i>
          </div>
          <h4 class="card-title">Edit Profile -
            <small class="category">View/Edit your profile</small>
          </h4>
        </div>
        <div class="card-body" *ngIf="staff">
          <form #editStaffForm="ngForm">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="bmd-label-floating">Email address</label>
                  <input type="email" class="form-control" name="email" #email="ngModel" [(ngModel)]="staff.email" required [class.is-invalid]="email.invalid && email.touched"
                    value="{{staff.email}}"required>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="bmd-label-floating">Phone Number</label>
                  <input type="number" class="form-control" name="phone" #phone="ngModel" [(ngModel)]="staff.phone" required [class.is-invalid]="phone.invalid && phone.touched"
                    value="{{staff.phone}}"required>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label class="bmd-label-floating">Fist Name</label>
                  <input type="text" class="form-control" name="fName" #fName="ngModel" [(ngModel)]="staff.firstName" required [class.is-invalid]="fName.invalid && fName.touched"
                    value="{{staff.firstName}}"required>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label class="bmd-label-floating">Last Name</label>
                  <input type="text" class="form-control" name="lName" #lName="ngModel" [(ngModel)]="staff.lastName" required [class.is-invalid]="lName.invalid && lName.touched"
                    value="{{staff.lastName}}"required>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label class="bmd-label-floating">Address</label>
                  <input type="text" class="form-control" name="address" #address="ngModel" [(ngModel)]="staff.address" required [class.is-invalid]="address.invalid && address.touched"
                    value="{{staff.address}}"required>
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary" (click)="editProfile()">Update Profile</button>
            <div class="clearfix"></div>
          </form>
        </div>
      </div>
      <div class="accordion" id="accordionExample">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h5 class="mb-0">
              <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                Update your Password Here
              </button>
            </h5>
          </div>

          <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
            <div class="card-body">
              <form #changePasswordForm="ngForm">
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <input type="password" class="form-control" name="oldpassword" placeholder="Old Password" #oldpassword="ngModel" [(ngModel)]="oldPassword"
                      required [class.is-invalid]="oldpassword.invalid && oldpassword.touched">
                  </div>
                  <div class="form-group col-md-6">
                    <input type="password" class="form-control" name="newpassword" id="password" placeholder=" New Password" #newpassword="ngModel" [(ngModel)]="newPassword"
                      required [class.is-invalid]="newpassword.invalid && newpassword.touched">
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group col-md-6">
                    <input type="password" class="form-control" id="confirm_password" name="confirmpasword" required placeholder="Confirm New Password">
                  </div>
                </div>
                <button type="submit" class="btn btn-primary" (click)="updatePassword()" [disabled]="changePasswordForm.form.invalid">Update Password</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="col-md-4">
      <div class="card card-profile">
        <div class="card-avatar">
          <a href="#pablo">
            <img class="img" src="../../assets/img/faces/marc.jpg" />
          </a>
        </div>
        <form>
          <div class="form-group">
            <input type="file" class="form-control-file" id="exampleFormControlFile1">
          </div>
          <div class="d-flex justify-content-around py-3">
            <button type="button" class="btn btn-primary py-2 px-3">Delete</button>
            <button type="submit" class="btn btn-primary py-2 px-3">Upload Picture</button>
          </div>
        </form>
      </div>

    </div> -->
  </div>

</div>
<lib-ngx-notification></lib-ngx-notification>

<script>
  var password = document.getElementById("password"),
    confirm_password = document.getElementById("confirm_password");

  function validatePassword() {
    if (password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;

</script>
